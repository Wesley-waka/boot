{"ast":null,"code":"import _defineProperty from \"/home/wesley-waka/wewe/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/wesley-waka/wewe/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/home/wesley-waka/wewe/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nvar LOAD_PRODUCTS = 'LOAD_PRODUCTS';\nvar UPDATE_SORT = 'UPDATE_SORT';\nvar SORT_PRODUCTS = 'SORT_PRODUCTS';\nvar UPDATE_FILTERS = 'UPDATE_FILTERS';\nvar FILTER_PRODUCTS = 'FILTER_PRODUCTS';\nvar CLEAR_FILTERS = 'CLEAR_FILTERS';\nvar filter_reducer = function filter_reducer(state, action) {\n  if (action.type === LOAD_PRODUCTS) {\n    var maxPrice = action.payload.map(function (p) {\n      return p.price;\n    });\n    maxPrice = Math.max.apply(Math, _toConsumableArray(maxPrice));\n    console.log(action.payload);\n    return _objectSpread({}, state, {\n      all_products: _toConsumableArray(action.payload),\n      filtered_products: _toConsumableArray(action.payload),\n      filters: _objectSpread({}, state.filters, {\n        max_price: maxPrice,\n        price: maxPrice\n      })\n    });\n  }\n  if (action.type === UPDATE_SORT) {\n    return _objectSpread({}, state, {\n      sort: action.payload\n    });\n  }\n  if (action.type === SORT_PRODUCTS) {\n    var sort = state.sort,\n      filtered_products = state.filtered_products;\n    var tempProducts = _toConsumableArray(filtered_products);\n    if (sort === 'price-lowest') {\n      tempProducts = tempProducts.sort(function (a, b) {\n        if (a.price < b.price) {\n          return -1;\n        }\n        if (a.price > b.price) {\n          return 1;\n        }\n        return 0;\n      });\n    }\n    if (sort === 'price-highest') {\n      tempProducts = tempProducts.sort(function (a, b) {\n        return b.price - a.price;\n      });\n    }\n    if (sort === 'name-a') {\n      tempProducts = tempProducts.sort(function (a, b) {\n        return a.name.localeCompare(b.name);\n      });\n    }\n    if (sort === 'name-z') {\n      tempProducts = tempProducts.sort(function (a, b) {\n        return b.name.localeCompare(a.name);\n      });\n    }\n    return _objectSpread({}, state, {\n      filtered_products: tempProducts\n    });\n  }\n  if (action.type === UPDATE_FILTERS) {\n    var _action$payload = action.payload,\n      name = _action$payload.name,\n      value = _action$payload.value;\n    return _objectSpread({}, state, {\n      filters: _objectSpread({}, state.filters, _defineProperty({}, name, value))\n    });\n  }\n  if (action.type === FILTER_PRODUCTS) {\n    var all_products = state.all_products;\n    var _state$filters = state.filters,\n      text = _state$filters.text,\n      category = _state$filters.category,\n      company = _state$filters.company,\n      shipping = _state$filters.shipping;\n    var _tempProducts = _toConsumableArray(all_products);\n    // filtering\n    // text\n    if (text) {\n      _tempProducts = _tempProducts.filter(function (product) {\n        return product.name.toLowerCase().startsWith(text);\n      });\n    }\n    // category\n    if (category !== 'all') {\n      _tempProducts = _tempProducts.filter(function (product) {\n        return product.category === category;\n      });\n    }\n\n    // company\n    if (company !== 'all') {\n      _tempProducts = _tempProducts.filter(function (product) {\n        return product.company === company;\n      });\n    }\n\n    // shipping\n    if (shipping) {\n      _tempProducts = _tempProducts.filter(function (product) {\n        return product.shipping === true;\n      });\n    }\n    return _objectSpread({}, state, {\n      filtered_products: _tempProducts\n    });\n  }\n  if (action.type === CLEAR_FILTERS) {\n    return _objectSpread({}, state, {\n      filters: _objectSpread({}, state.filters, {\n        text: '',\n        company: 'all',\n        category: 'all',\n        color: 'all',\n        price: state.filters.max_price,\n        shipping: false\n      })\n    });\n  }\n  throw new Error(\"No Matching \\\"\".concat(action.type, \"\\\" - action type\"));\n};\nexport default filter_reducer;","map":{"version":3,"names":["LOAD_PRODUCTS","UPDATE_SORT","SORT_PRODUCTS","UPDATE_FILTERS","FILTER_PRODUCTS","CLEAR_FILTERS","filter_reducer","state","action","type","maxPrice","payload","map","p","price","Math","max","console","log","all_products","filtered_products","filters","max_price","sort","tempProducts","a","b","name","localeCompare","value","text","category","company","shipping","filter","product","toLowerCase","startsWith","color","Error"],"sources":["/home/wesley-waka/wewe/my-app/src/reducers/filter_reducer.js"],"sourcesContent":["const LOAD_PRODUCTS = 'LOAD_PRODUCTS'\nconst UPDATE_SORT = 'UPDATE_SORT'\nconst SORT_PRODUCTS = 'SORT_PRODUCTS'\nconst UPDATE_FILTERS = 'UPDATE_FILTERS'\nconst FILTER_PRODUCTS = 'FILTER_PRODUCTS'\nconst CLEAR_FILTERS = 'CLEAR_FILTERS'\n\n\nconst filter_reducer = (state, action) => {\n  if (action.type === LOAD_PRODUCTS) {\n    let maxPrice = action.payload.map((p) => p.price)\n    maxPrice = Math.max(...maxPrice)\n    console.log(action.payload);\n    return {\n      ...state,\n      all_products: [...action.payload],\n      filtered_products: [...action.payload],\n      filters: { ...state.filters, max_price: maxPrice, price: maxPrice },\n    }\n  }\n\n  if (action.type === UPDATE_SORT) {\n    return { ...state, sort: action.payload }\n  }\n  if (action.type === SORT_PRODUCTS) {\n    const { sort, filtered_products } = state\n    let tempProducts = [...filtered_products]\n    if (sort === 'price-lowest') {\n      tempProducts = tempProducts.sort((a, b) => {\n        if (a.price < b.price) {\n          return -1\n        }\n        if (a.price > b.price) {\n          return 1\n        }\n        return 0\n      })\n    }\n    if (sort === 'price-highest') {\n      tempProducts = tempProducts.sort((a, b) => b.price - a.price)\n    }\n    if (sort === 'name-a') {\n      tempProducts = tempProducts.sort((a, b) => {\n        return a.name.localeCompare(b.name)\n      })\n    }\n    if (sort === 'name-z') {\n      tempProducts = tempProducts.sort((a, b) => {\n        return b.name.localeCompare(a.name)\n      })\n    }\n    return { ...state, filtered_products: tempProducts }\n  }\n  if (action.type === UPDATE_FILTERS) {\n    const { name, value } = action.payload\n    return { ...state, filters: { ...state.filters, [name]: value } }\n  }\n  if (action.type === FILTER_PRODUCTS) {\n    const { all_products } = state\n    const { text, category, company, shipping } = state.filters\n\n    let tempProducts = [...all_products]\n    // filtering\n    // text\n    if (text) {\n      tempProducts = tempProducts.filter((product) => {\n        return product.name.toLowerCase().startsWith(text)\n      })\n    }\n    // category\n    if (category !== 'all') {\n      tempProducts = tempProducts.filter(\n        (product) => product.category === category\n      )\n    }\n\n    // company\n    if (company !== 'all') {\n      tempProducts = tempProducts.filter(\n        (product) => product.company === company\n      )\n    }\n\n    // shipping\n    if (shipping) {\n      tempProducts = tempProducts.filter((product) => product.shipping === true)\n    }\n\n    return { ...state, filtered_products: tempProducts }\n  }\n  if (action.type === CLEAR_FILTERS) {\n    return {\n      ...state,\n      filters: {\n        ...state.filters,\n        text: '',\n        company: 'all',\n        category: 'all',\n        color: 'all',\n        price: state.filters.max_price,\n        shipping: false,\n      },\n    }\n  }\n  throw new Error(`No Matching \"${action.type}\" - action type`)\n}\n\nexport default filter_reducer\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}